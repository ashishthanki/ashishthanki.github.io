{
    "componentChunkName": "component---themes-advanced-src-templates-post-query-ts",
    "path": "/architecture-patterns",
    "result": {"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Architecture Patterns\",\n  \"cover\": \"images/ArchitecturePatterns/PypiGraph.png\",\n  \"coverAlt\": \"Python's Dependency Network\",\n  \"description\": \"Understanding architecture patterns can help you maintain and develop code much easier.\",\n  \"datePublished\": \"2022-12-04\",\n  \"dateModified\": \"2022-12-04\",\n  \"category\": \"Shorts\",\n  \"tags\": [\"Programming\", \"Architecture\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This shorts blog post highlights the importance of architecture patterns and points out what should be considered when creating software systems in Python. \"), mdx(\"p\", null, \"When we start a project the code base may look clean and obvious to us on how it is ordered and structured. However, overtime this changes when more code is adapted into, added or even forced in to ensure things work. We even start to see additional classes, and util modules being created to make things work. The architecture that was once present has long been collapsed and adding additional features may not be apparent.\"), mdx(\"p\", null, \"All these problems can be avoided with correct implementation of architecture patterns.\"), mdx(\"h3\", null, \"Encapsulation and Abstractions\"), mdx(\"p\", null, \"We first need to start with Encapsulation and Abstraction.\"), mdx(\"p\", null, \"Encapsulation is the process of simplifying behavior and hiding data. We can simplify a process by using an higher level of Abstraction. We have to choose the level of Abstraction as we need to pay attention to the interactions between our objects and functions. When many objects, functions, modules or libraries use each other then we say \\\"\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"one depends on the other\"), \"\\\". These dependencies can become out of hand and can be visualised using a network or graph, see example below. \"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Abstractions are simplified interfaces that encapsulate behavior.\")), mdx(\"p\", null, \"Check out \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://kgullikson88.github.io/blog/Javascript/PypiGraph/Requirements_clipped/network/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"this\"), \" interactive dependency network. The network graph visualizes how python packages depend on each other, each point represents a python package.\"), mdx(\"figure\", {\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"580px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/6aa1e54c44ce861960c9c9c58094f854/b6272/PypiGraph.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"88.54166666666666%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQ4y3VT7VMTRxzOn9KP1WJ2f/tyu3dJLrlcEiBcckkkuYQIJEIclBkxaVFCrMaKKEUjUCqdaTtOW9qpnQ46ah3azjjIS4eXfuif1LljaKXU34ed2d3fs8/us8/jwyeKAAbAFBAFpFBQKOYEE0DkRKfv7QkARt4YkWCbvNQjRtJqLqZ0G1LjIJi79T9gIICwi7TiwdG8WT8XuzqgL1+xHtdjDy6ak8PxXJQYKgQlZeTfE47AHmGl0PND2/n9bu5pM/6klXp+y975NLM+k/m2mW4N6gO9MmUwyeEYs3tVjAIqm7nc/+YT67eLZ7amAxvtnu3bvTu3+/6Ys9dvWV9PWtcGDSehhAQQeAvMKFBPpKkhc3M2vdWK7M1lXl8Lb04b2zcT+wvOdsd5Ndu/WE9dyGpJQ1GOpPNRAkGVUXD1zMREZ7z75V1n+35+bz6z0TR25/v/+rK2tzz05r7zUzt7Yzhsm5wTRDx2HyVYMGCUaAqJB+m5XqVdNV620xszqd0Hhd35/P5C6WClsvmw/LgRnxqM5GJcUAyeaj5CQCpMYWCElL6orKS16+dj303bv84VDx4NH3QKfy6V95eHXs32f9Houz6SyJqcgOcFD0yk4AoDVQEzyPI96keDscXx+JMbua2l4d3F4k6nsNUpPbtTXGzYzYppRRgBrEtCAbmCUQIBSQOSGRpJGayU4M2y/tWk9fxeeW3G+flm7umd4vftwsKEVXd0K8I4RRr3mA8/WRW0EGdjaV7P8UbK3yqpn11OrjT6Hk5YS4308ofpe5eSH9d6z2f1uC4EA4zQMXvWEl2ro/610fdXL5DVEdQsh6t2YMLRa2f1WiE6VoiWrWBCd9WBI4/5Di3d5cd2GP84zn8ZO/VirGtt9PTnFXIpeeZsQiQNJaKxRFjROBGcqBwYdX11jBkA8t3qVFFdGfhgvfrei6uh2QGaDeOQJIwAIy6HFIz/A/1PqpDfn4zK9lDomxH0qHSqlUN2hKqCaZIJBkIojFH0rkgSVwikSp4yZTV6uhrrCkg3h5wSTtynIoTemefD8iOEEVI5UAqHzd7CyUb8N064O6h3/kWRAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Python Dependency Network\",\n    \"title\": \"Python Dependency Network\",\n    \"src\": \"/static/6aa1e54c44ce861960c9c9c58094f854/b6272/PypiGraph.png\",\n    \"srcSet\": [\"/static/6aa1e54c44ce861960c9c9c58094f854/8514f/PypiGraph.png 192w\", \"/static/6aa1e54c44ce861960c9c9c58094f854/804b2/PypiGraph.png 384w\", \"/static/6aa1e54c44ce861960c9c9c58094f854/b6272/PypiGraph.png 580w\"],\n    \"sizes\": \"(max-width: 580px) 100vw, 580px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Python Dependency Network\"), \"\\n  \"), mdx(\"h3\", null, \"SOLID\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"SOLID\"), \" is a widely used acronym in software development. It consists of five principles of object oriented design. Single responsibility, Open for extension but closed for modification, Liskov substitution, Interface segregation, and Dependency inversion. \"), mdx(\"p\", null, \"Robert C. Martin\\u2019s definition of the Dependency Inversion Principle consists of two parts:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"High level modules should not depend on low level modules. Both should depend on Abstractions.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Abstractions should not depend on details. Instead, details should depend on Abstractions.\")), mdx(\"p\", null, \"A great example of number 2 can be found on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://stackoverflow.com/a/68911711\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"this\"), \" StackOverflow post. Typically, using an Abstract Base Class is a great way of switching the dependents.\"), mdx(\"p\", null, \"High level modules are the domain specific functions that deal with real-world concepts, meanwhile the low level modules is code that the business does not care about. An example of high level code would be to perform business transformations to data, meanwhile the low level would be to read data from a SQL DB instead of a CSV file. Non-technical stakeholders only care about high level code.\"), mdx(\"p\", null, \"Adding an abstraction between a high level module and low level modules allows us to change either of the modules without having to make changes to the other and becoming more independent of each other. The last thing stakeholders want is changes to business logic being caused by a closely coupled low level read file function. This three-layered architecture is great until the common problem of business logic infecting the three layers making the application hard to identify, understand and change. We must ensure new business logic stays within the business logic layer.\"), mdx(\"figure\", {\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"768px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/390bc168bc652b12c7b499183fece3ec/eba85/three_levels_abstraction.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"50%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByElEQVQoz3WRzWsTQQDF+98IevAsCr3rSSjFg1IQP0BLvBSLBKleRGoP9lYxPShSWtSDFNSYtCbB1CQmUUlLEmtt2uw2bIyRXXddk/34yW6yzWrSgR1m5735Me/NEEDhm8zyWo1wRiL8QWL5fQ2xoTsStm3/8zkjkquzuCrwPCHyLCGy9Fag+avlakPOFAxtcHgsyonxOMPXEhw6G+FFcs81mGY/cGQqzdHzKxy7Euf41ThHxqIUtuUe8F2hwfzLCo/DFR693nbXX0XVNVgDbpguNXmTlXiVEohkJaK5OopmdIBW19QZFmDs/9k+zQ90allaFVhcqfA0VnXj/1C6kf2HTNPAaLc8xIHAyQfrnLuT5eK9HBem84zeyuwnciM79B3pN1uizJfqT3bqOppuHPgoestE1tpIDYWm8gdVN7Asuwe8u1BmOJDgdHCNkZspd+3Ecm9t9QMDs584NZlkdCrFmdtpTl5PsllVesAn0V0uzeSZmC8z8bDI5Zk8mVKz0+oA4PRCmcDsZ4JzRW7MbTB+/yO7ktbfIaUiCMLADv/vsW0ZbKp7bKk1z+1qHaB3MBSCWKz74BZ+zbN4QNnQiH1fRzV0377NX0ji1ZD0AyIKAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Picture of Three Layers: Presentation, Business Logic, and Database Layer\",\n    \"title\": \"Picture of Three Layers: Presentation, Business Logic, and Database Layer\",\n    \"src\": \"/static/390bc168bc652b12c7b499183fece3ec/e5715/three_levels_abstraction.png\",\n    \"srcSet\": [\"/static/390bc168bc652b12c7b499183fece3ec/8514f/three_levels_abstraction.png 192w\", \"/static/390bc168bc652b12c7b499183fece3ec/804b2/three_levels_abstraction.png 384w\", \"/static/390bc168bc652b12c7b499183fece3ec/e5715/three_levels_abstraction.png 768w\", \"/static/390bc168bc652b12c7b499183fece3ec/eba85/three_levels_abstraction.png 1054w\"],\n    \"sizes\": \"(max-width: 768px) 100vw, 768px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Picture of Three Layers: Presentation, Business Logic, and Database Layer\"), \"\\n  \"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Ensure we continuously apply Dependency Inversion and choosing the right abstractions.\")), mdx(\"h3\", null, \"Abstraction and Coupling\"), mdx(\"p\", null, \"When component A of our code is difficult to change because of the fear of breaking component B, we say that the components have become coupled. Local coupling is a good thing because it suggests that the code works well together, as well as support each other, like a fine tuned engine. In technical terms, we would say that there is \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"high cohesion\"), \" between the coupled elements. \"), mdx(\"p\", null, \"Global coupling is a problem however. When the application grows large then there could be coupling between components which have no cohesion at all. This would make the code extremely difficult to change. \"), mdx(\"p\", null, \"To stop this from happening we can decouple the components by abstracting away the details.\"), mdx(\"p\", null, \"When tests use too many mocks then it implies there is a more coupled implementation which makes the tests more brittle and complicated. These test suites fail to explain the code and are often overwhelmed with setup code that hides what the code is actually doing.\"), mdx(\"h3\", null, \"Software Development Process\"), mdx(\"p\", null, \"There are several approaches that can help develop code using the SOLID principles described but two popular approaches I recommend are:\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Test-Driven Development\"), \": Build code that is correct and enables us to refactor or add new features with regression. The domain model is what we earlier described as business logic layer. A workflow of TDD is before you write any unit of behavior you have a test for this behavior and only this behavior. Only after these tests fail do you implement the behavior. \"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Domain Driven Design\"), \": Focuses on building a good model of the business domain, but can be encumbered with infrastructure concerns and hard to change. DDD is a far more abstract philosophy and set of design patterns that addresses how to design a large, scalable, and maintainable system. Ultimately DDD is about creating a code eco-system that implicitly or explicitly captures important bits of domain knowledge.\"), mdx(\"h1\", null, \"Conclusion\"), mdx(\"p\", null, \"Continuously, thinking about the SOLID principles can help numerous data scientists build projects that are maintainable and scalable - a problem amongst us data scientists that do not come from a software background. This makes changes easier as the domain progresses. The domain driven development is useful approach in these scenarios. The TDD approach and DDD are certainly not mutually exclusive and most developers use DDD and TDD together, and I would recommend the same.\"), mdx(\"h4\", null, \"Further Reading and Other Tips\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.oreilly.com/library/view/architecture-patterns-with/9781492052197\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"Architecture Patterns with Python\"), \" by Harry Percival and Bob Gregory.\")), mdx(\"ol\", {\n    \"start\": 2\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://youtu.be/pTB30aXS77U\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"Arjan Codes SOLID Principles Video\"))));\n}\n;\nMDXContent.isMDXComponent = true;","timeToRead":4,"excerpt":"This shorts blog post highlights the importance of architecture patterns and points out what should be considered when creating software…","frontmatter":{"title":"Architecture Patterns","description":"Understanding architecture patterns can help you maintain and develop code much easier.","cover":{"publicURL":"/static/6aa1e54c44ce861960c9c9c58094f854/PypiGraph.png","childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQ4y3VT7VMTRxzOn9KP1WJ2f/tyu3dJLrlcEiBcckkkuYQIJEIclBkxaVFCrMaKKEUjUCqdaTtOW9qpnQ46ah3azjjIS4eXfuif1LljaKXU34ed2d3fs8/us8/jwyeKAAbAFBAFpFBQKOYEE0DkRKfv7QkARt4YkWCbvNQjRtJqLqZ0G1LjIJi79T9gIICwi7TiwdG8WT8XuzqgL1+xHtdjDy6ak8PxXJQYKgQlZeTfE47AHmGl0PND2/n9bu5pM/6klXp+y975NLM+k/m2mW4N6gO9MmUwyeEYs3tVjAIqm7nc/+YT67eLZ7amAxvtnu3bvTu3+/6Ys9dvWV9PWtcGDSehhAQQeAvMKFBPpKkhc3M2vdWK7M1lXl8Lb04b2zcT+wvOdsd5Ndu/WE9dyGpJQ1GOpPNRAkGVUXD1zMREZ7z75V1n+35+bz6z0TR25/v/+rK2tzz05r7zUzt7Yzhsm5wTRDx2HyVYMGCUaAqJB+m5XqVdNV620xszqd0Hhd35/P5C6WClsvmw/LgRnxqM5GJcUAyeaj5CQCpMYWCElL6orKS16+dj303bv84VDx4NH3QKfy6V95eHXs32f9Houz6SyJqcgOcFD0yk4AoDVQEzyPI96keDscXx+JMbua2l4d3F4k6nsNUpPbtTXGzYzYppRRgBrEtCAbmCUQIBSQOSGRpJGayU4M2y/tWk9fxeeW3G+flm7umd4vftwsKEVXd0K8I4RRr3mA8/WRW0EGdjaV7P8UbK3yqpn11OrjT6Hk5YS4308ofpe5eSH9d6z2f1uC4EA4zQMXvWEl2ro/610fdXL5DVEdQsh6t2YMLRa2f1WiE6VoiWrWBCd9WBI4/5Di3d5cd2GP84zn8ZO/VirGtt9PTnFXIpeeZsQiQNJaKxRFjROBGcqBwYdX11jBkA8t3qVFFdGfhgvfrei6uh2QGaDeOQJIwAIy6HFIz/A/1PqpDfn4zK9lDomxH0qHSqlUN2hKqCaZIJBkIojFH0rkgSVwikSp4yZTV6uhrrCkg3h5wSTtynIoTemefD8iOEEVI5UAqHzd7CyUb8N064O6h3/kWRAAAAAElFTkSuQmCC"},"backgroundColor":"transparent","images":{"fallback":{"src":"/static/6aa1e54c44ce861960c9c9c58094f854/2d134/PypiGraph.png","srcSet":"/static/6aa1e54c44ce861960c9c9c58094f854/fc46d/PypiGraph.png 145w,\n/static/6aa1e54c44ce861960c9c9c58094f854/15786/PypiGraph.png 290w,\n/static/6aa1e54c44ce861960c9c9c58094f854/2d134/PypiGraph.png 580w","sizes":"(min-width: 580px) 580px, 100vw"},"sources":[{"srcSet":"/static/6aa1e54c44ce861960c9c9c58094f854/c54de/PypiGraph.avif 145w,\n/static/6aa1e54c44ce861960c9c9c58094f854/e1b2d/PypiGraph.avif 290w,\n/static/6aa1e54c44ce861960c9c9c58094f854/c0628/PypiGraph.avif 580w","type":"image/avif","sizes":"(min-width: 580px) 580px, 100vw"},{"srcSet":"/static/6aa1e54c44ce861960c9c9c58094f854/5f994/PypiGraph.webp 145w,\n/static/6aa1e54c44ce861960c9c9c58094f854/a4a2e/PypiGraph.webp 290w,\n/static/6aa1e54c44ce861960c9c9c58094f854/000b4/PypiGraph.webp 580w","type":"image/webp","sizes":"(min-width: 580px) 580px, 100vw"}]},"width":580,"height":514}}},"coverAlt":"Python's Dependency Network","datePublished":"2022-12-04","dateModified":"2022-12-04","category":"Shorts","tags":["Programming","Architecture"]},"fields":{"slug":"/architecture-patterns","route":"/architecture-patterns","pathName":"/architecture-patterns","url":"https://ashishthanki.github.io/architecture-patterns"},"internal":{"content":"---\ntitle: \"Architecture Patterns\"\ncover: images/ArchitecturePatterns/PypiGraph.png\ncoverAlt: \"Python's Dependency Network\"\ndescription: \"Understanding architecture patterns can help you maintain and develop code much easier.\"\ndatePublished: \"2022-12-04\"\ndateModified: \"2022-12-04\"\ncategory: \"Shorts\"\ntags:\n  - Programming\n  - Architecture\n---\n\nThis shorts blog post highlights the importance of architecture patterns and points out what should be considered when creating software systems in Python. \n\nWhen we start a project the code base may look clean and obvious to us on how it is ordered and structured. However, overtime this changes when more code is adapted into, added or even forced in to ensure things work. We even start to see additional classes, and util modules being created to make things work. The architecture that was once present has long been collapsed and adding additional features may not be apparent.\n\nAll these problems can be avoided with correct implementation of architecture patterns.\n\n### Encapsulation and Abstractions\n\nWe first need to start with Encapsulation and Abstraction.\n\nEncapsulation is the process of simplifying behavior and hiding data. We can simplify a process by using an higher level of Abstraction. We have to choose the level of Abstraction as we need to pay attention to the interactions between our objects and functions. When many objects, functions, modules or libraries use each other then we say \"*one depends on the other*\". These dependencies can become out of hand and can be visualised using a network or graph, see example below. \n\n> Abstractions are simplified interfaces that encapsulate behavior.\n\nCheck out [this](https://kgullikson88.github.io/blog/Javascript/PypiGraph/Requirements_clipped/network/) interactive dependency network. The network graph visualizes how python packages depend on each other, each point represents a python package.\n\n![Python Dependency Network](/images/ArchitecturePatterns/PypiGraph.png)\n\n### SOLID\n\n*SOLID* is a widely used acronym in software development. It consists of five principles of object oriented design. Single responsibility, Open for extension but closed for modification, Liskov substitution, Interface segregation, and Dependency inversion. \n\nRobert C. Martin’s definition of the Dependency Inversion Principle consists of two parts:\n\n\n1. High level modules should not depend on low level modules. Both should depend on Abstractions.\n2. Abstractions should not depend on details. Instead, details should depend on Abstractions.\n\nA great example of number 2 can be found on [this](https://stackoverflow.com/a/68911711) StackOverflow post. Typically, using an Abstract Base Class is a great way of switching the dependents.\n\nHigh level modules are the domain specific functions that deal with real-world concepts, meanwhile the low level modules is code that the business does not care about. An example of high level code would be to perform business transformations to data, meanwhile the low level would be to read data from a SQL DB instead of a CSV file. Non-technical stakeholders only care about high level code.\n\n\nAdding an abstraction between a high level module and low level modules allows us to change either of the modules without having to make changes to the other and becoming more independent of each other. The last thing stakeholders want is changes to business logic being caused by a closely coupled low level read file function. This three-layered architecture is great until the common problem of business logic infecting the three layers making the application hard to identify, understand and change. We must ensure new business logic stays within the business logic layer.\n\n\n![Picture of Three Layers: Presentation, Business Logic, and Database Layer](/images/ArchitecturePatterns/three_levels_abstraction.png)\n\n> Ensure we continuously apply Dependency Inversion and choosing the right abstractions.\n\n### Abstraction and Coupling \n\nWhen component A of our code is difficult to change because of the fear of breaking component B, we say that the components have become coupled. Local coupling is a good thing because it suggests that the code works well together, as well as support each other, like a fine tuned engine. In technical terms, we would say that there is **high cohesion** between the coupled elements. \n\nGlobal coupling is a problem however. When the application grows large then there could be coupling between components which have no cohesion at all. This would make the code extremely difficult to change. \n\nTo stop this from happening we can decouple the components by abstracting away the details.\n\nWhen tests use too many mocks then it implies there is a more coupled implementation which makes the tests more brittle and complicated. These test suites fail to explain the code and are often overwhelmed with setup code that hides what the code is actually doing.\n\n\n### Software Development Process\n\nThere are several approaches that can help develop code using the SOLID principles described but two popular approaches I recommend are:\n\n**Test-Driven Development**: Build code that is correct and enables us to refactor or add new features with regression. The domain model is what we earlier described as business logic layer. A workflow of TDD is before you write any unit of behavior you have a test for this behavior and only this behavior. Only after these tests fail do you implement the behavior. \n\n**Domain Driven Design**: Focuses on building a good model of the business domain, but can be encumbered with infrastructure concerns and hard to change. DDD is a far more abstract philosophy and set of design patterns that addresses how to design a large, scalable, and maintainable system. Ultimately DDD is about creating a code eco-system that implicitly or explicitly captures important bits of domain knowledge.\n\n\n# Conclusion\n\nContinuously, thinking about the SOLID principles can help numerous data scientists build projects that are maintainable and scalable - a problem amongst us data scientists that do not come from a software background. This makes changes easier as the domain progresses. The domain driven development is useful approach in these scenarios. The TDD approach and DDD are certainly not mutually exclusive and most developers use DDD and TDD together, and I would recommend the same.\n\n\n#### Further Reading and Other Tips\n\n1. [Architecture Patterns with Python](https://www.oreilly.com/library/view/architecture-patterns-with/9781492052197) by Harry Percival and Bob Gregory.\n\n\n2. [Arjan Codes SOLID Principles Video](https://youtu.be/pTB30aXS77U)\n"}}},"pageContext":{"slug":"/architecture-patterns","nexttitle":"Successful Database","nextslug":"/successful-database","prevtitle":"Sequences","prevslug":"/sequences","relatedPosts":[{"title":"Architecture Patterns","description":"Understanding architecture patterns can help you maintain and develop code much easier.","coverImg":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQ4y3VT7VMTRxzOn9KP1WJ2f/tyu3dJLrlcEiBcckkkuYQIJEIclBkxaVFCrMaKKEUjUCqdaTtOW9qpnQ46ah3azjjIS4eXfuif1LljaKXU34ed2d3fs8/us8/jwyeKAAbAFBAFpFBQKOYEE0DkRKfv7QkARt4YkWCbvNQjRtJqLqZ0G1LjIJi79T9gIICwi7TiwdG8WT8XuzqgL1+xHtdjDy6ak8PxXJQYKgQlZeTfE47AHmGl0PND2/n9bu5pM/6klXp+y975NLM+k/m2mW4N6gO9MmUwyeEYs3tVjAIqm7nc/+YT67eLZ7amAxvtnu3bvTu3+/6Ys9dvWV9PWtcGDSehhAQQeAvMKFBPpKkhc3M2vdWK7M1lXl8Lb04b2zcT+wvOdsd5Ndu/WE9dyGpJQ1GOpPNRAkGVUXD1zMREZ7z75V1n+35+bz6z0TR25/v/+rK2tzz05r7zUzt7Yzhsm5wTRDx2HyVYMGCUaAqJB+m5XqVdNV620xszqd0Hhd35/P5C6WClsvmw/LgRnxqM5GJcUAyeaj5CQCpMYWCElL6orKS16+dj303bv84VDx4NH3QKfy6V95eHXs32f9Houz6SyJqcgOcFD0yk4AoDVQEzyPI96keDscXx+JMbua2l4d3F4k6nsNUpPbtTXGzYzYppRRgBrEtCAbmCUQIBSQOSGRpJGayU4M2y/tWk9fxeeW3G+flm7umd4vftwsKEVXd0K8I4RRr3mA8/WRW0EGdjaV7P8UbK3yqpn11OrjT6Hk5YS4308ofpe5eSH9d6z2f1uC4EA4zQMXvWEl2ro/610fdXL5DVEdQsh6t2YMLRa2f1WiE6VoiWrWBCd9WBI4/5Di3d5cd2GP84zn8ZO/VirGtt9PTnFXIpeeZsQiQNJaKxRFjROBGcqBwYdX11jBkA8t3qVFFdGfhgvfrei6uh2QGaDeOQJIwAIy6HFIz/A/1PqpDfn4zK9lDomxH0qHSqlUN2hKqCaZIJBkIojFH0rkgSVwikSp4yZTV6uhrrCkg3h5wSTtynIoTemefD8iOEEVI5UAqHzd7CyUb8N064O6h3/kWRAAAAAElFTkSuQmCC"},"backgroundColor":"transparent","images":{"fallback":{"src":"/static/6aa1e54c44ce861960c9c9c58094f854/24c1b/PypiGraph.png","srcSet":"/static/6aa1e54c44ce861960c9c9c58094f854/2f945/PypiGraph.png 104w,\n/static/6aa1e54c44ce861960c9c9c58094f854/1765e/PypiGraph.png 208w,\n/static/6aa1e54c44ce861960c9c9c58094f854/24c1b/PypiGraph.png 415w","sizes":"(min-width: 415px) 415px, 100vw"},"sources":[{"srcSet":"/static/6aa1e54c44ce861960c9c9c58094f854/9cab3/PypiGraph.avif 104w,\n/static/6aa1e54c44ce861960c9c9c58094f854/3550e/PypiGraph.avif 208w,\n/static/6aa1e54c44ce861960c9c9c58094f854/bac8c/PypiGraph.avif 415w","type":"image/avif","sizes":"(min-width: 415px) 415px, 100vw"},{"srcSet":"/static/6aa1e54c44ce861960c9c9c58094f854/2c6a9/PypiGraph.webp 104w,\n/static/6aa1e54c44ce861960c9c9c58094f854/60755/PypiGraph.webp 208w,\n/static/6aa1e54c44ce861960c9c9c58094f854/30fc6/PypiGraph.webp 415w","type":"image/webp","sizes":"(min-width: 415px) 415px, 100vw"}]},"width":415,"height":368},"coverImageAlt":"Python's Dependency Network","datePublished":"2022-12-04T00:00:00.000Z","dateModified":"2022-12-04T00:00:00.000Z","category":"Shorts","tags":["Programming","Architecture"],"excerpt":"This shorts blog post highlights the importance of architecture patterns and points out what should be considered when creating software…","timeToRead":4,"slug":"/architecture-patterns","route":"/architecture-patterns","pathName":"/architecture-patterns","url":"https://ashishthanki.github.io/architecture-patterns"},{"title":"Sequences","description":"Interesting facts about sequences.","coverImg":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABqElEQVQoz22Sa4+qMBCG+f//yBi0IBpvYbNlQQG13YCFovRQ5GK57lnJMVn3vB+adtInM/POSJcoMgzDtu2De0h40j+UpjcIoeO6+POzqqqu6/p/Gu6+769WK8m29+PxWNO0iSw7jjP8CIJgOp1qs5kCAISwrusB67qubdu+7w3DGI1GUhiGQRB+fJhhGBJCMMac8yRJPM+DEB6ORxpFA/xUVVUAgOVyKXHOWRxjjOM4zvOcMUYpzfO8LAqE0J8kybLser0OccaYECKOY1VVFUWR0jS9RJFtO5TSsiy/n5eLEOJ+v9MwzLKsLEtKqWWZ2ny+2+0IIQCA7XarqqpUFIUQd0JIXhRVVfE0pVH0NGY467o+nY66riOEEUKLxWK9XmuaJrVt2zRN13XNozHO+fl8fho7wEIIhE66/oYRnkwm+/3ecRxZlqX+p263W/TI/OIQxkjX38iZKIqy2WxM0wQAvMKc8yAIXoJCiIPrrtcbwzAghFmW+b7/3fPvJHmev6yEEGK3s2Yz7f0dUkrbtrUsaz6fv8L/VdM0jDHP8xhjw8xd1/1b9hdrdF5Ra9pVhAAAAABJRU5ErkJggg=="},"backgroundColor":"transparent","images":{"fallback":{"src":"/static/2cd573256a0995569f582e2a20c24f07/8fccb/array_vs_list.png","srcSet":"/static/2cd573256a0995569f582e2a20c24f07/a8fd2/array_vs_list.png 165w,\n/static/2cd573256a0995569f582e2a20c24f07/38e56/array_vs_list.png 330w,\n/static/2cd573256a0995569f582e2a20c24f07/8fccb/array_vs_list.png 660w","sizes":"(min-width: 660px) 660px, 100vw"},"sources":[{"srcSet":"/static/2cd573256a0995569f582e2a20c24f07/79731/array_vs_list.avif 165w,\n/static/2cd573256a0995569f582e2a20c24f07/6ae0f/array_vs_list.avif 330w,\n/static/2cd573256a0995569f582e2a20c24f07/a7415/array_vs_list.avif 660w","type":"image/avif","sizes":"(min-width: 660px) 660px, 100vw"},{"srcSet":"/static/2cd573256a0995569f582e2a20c24f07/55a9a/array_vs_list.webp 165w,\n/static/2cd573256a0995569f582e2a20c24f07/39687/array_vs_list.webp 330w,\n/static/2cd573256a0995569f582e2a20c24f07/14a96/array_vs_list.webp 660w","type":"image/webp","sizes":"(min-width: 660px) 660px, 100vw"}]},"width":660,"height":368},"coverImageAlt":"Arrays vs Lists in memory","datePublished":"2023-01-14T00:00:00.000Z","dateModified":"2023-02-10T00:00:00.000Z","category":"Shorts","tags":["Programming","Python"],"excerpt":"I recently started to re-learn parts of Python, and wanted to write this  shorts  blog post on a few interesting things I have learnt. Lists…","timeToRead":3,"slug":"/sequences","route":"/sequences","pathName":"/sequences","url":"https://ashishthanki.github.io/sequences"}]}},
    "staticQueryHashes": ["3661114550"]}